{% load static %}
<head>
  <link rel="stylesheet" href="{% static 'css/comment.css' %}{{ version_query }}">
  <style>
    
  </style>
</head>
<div class="comment-wrapper hidden" data-bind="comment_section">
    {% load mptt_tags %}
    {% if request.user.is_authenticated %}
    <div class="comment-dialog">
        <div class="comment-avt">
            <a href="/user/{{ request.user.username }}">
                <img src="{{ request.user.profile.avatar }}" alt="avatar" class="comment-img">
            </a>
        </div>
    </div>
    {% endif %}
    <ul>
        {% recursetree comments %}
        <li>
            <div class="comment-container deepth-{{ node.deepth}}" comment-id="{{ node.id }}">
                <div class="comment-content">
                    <div class="comment-avt">
                        <a href="/user/{{ node.author.user.username }}">
                            <img src="{{ node.author.avatar}}" alt="avatar" class="comment-img">
                        </a>
                        <span>
                            {{ node.author.display_name }}
                        </span>
                    </div>
                    <div class="comment-section">
                        <h1>
                            {{ node.content }}
                        </h1>
                    </div>
                </div>
                {% if request.user.is_authenticated %}
                <div class="comment-action">
                    <h1 class="comment-reply">
                        Reply
                    </h1>
                </div>
                {% endif %}
            </div>
            {% if not node.is_leaf_node %}
            <ul>
                {{ children }}
            </ul>
            {% endif %}
        </li>
        {% endrecursetree %}
    </ul>
</div>
